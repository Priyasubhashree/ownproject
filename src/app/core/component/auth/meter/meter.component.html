<div class="flex min-h-screen">
  <div class="flex-1 flex flex-col p-14">
    <!-- Meter Form -->
    <div class="bg-gradient-to-r from-gray-300 via-gray-400 to-gray-500 shadow-md rounded px-8 py-6 w-full max-w-lg mx-auto">
      <h2 class="text-2xl font-semibold mb-6">Meter Details</h2>
      <form [formGroup]="meterForm" (ngSubmit)="onSaveMeter()">
        <!-- Meter ID -->
        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="meter-id">Meter ID</label>
          <input
            formControlName="meterId"
            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
            id="meter-id"
            type="text"
            placeholder="Enter Meter ID"
            (blur)="checkIfVerified(meterForm.get('meterId')?.value)"
          />
          <div *ngIf="meterForm.get('meterId')?.invalid && (meterForm.get('meterId')?.dirty || meterForm.get('meterId')?.touched)">
            <small class="text-red-600" *ngIf="meterForm.get('meterId')?.hasError('required')">Meter ID is required.</small>
          </div>
        </div>

        <!-- Location -->
        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="location">Location</label>
          <input
            formControlName="location"
            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
            id="location"
            type="text"
            placeholder="Enter Location"
          />
          <div *ngIf="meterForm.get('location')?.invalid && (meterForm.get('location')?.dirty || meterForm.get('location')?.touched)">
            <small class="text-red-600" *ngIf="meterForm.get('location')?.hasError('required')">Location is required.</small>
          </div>
        </div>

        <!-- Status -->
        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="status">Status</label>
          <select
            formControlName="status"
            id="status"
            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
          >
            <option value="" disabled>Select Status</option>
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
          </select>
          <div *ngIf="meterForm.get('status')?.invalid && (meterForm.get('status')?.dirty || meterForm.get('status')?.touched)">
            <small class="text-red-600" *ngIf="meterForm.get('status')?.hasError('required')">Status is required.</small>
          </div>
        </div>

        <!-- Installation Date -->
        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="installation-date">Installation Date</label>
          <input
            formControlName="installationDate"
            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
            id="installation-date"
            type="date"
          />
          <div *ngIf="meterForm.get('installationDate')?.invalid && (meterForm.get('installationDate')?.dirty || meterForm.get('installationDate')?.touched)">
            <small class="text-red-600" *ngIf="meterForm.get('installationDate')?.hasError('required')">Installation Date is required.</small>
          </div>
        </div>

        <div class="flex items-center justify-between">
          <button
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
            type="submit"
          >
            Save
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Toast Notification -->
<div
  *ngIf="toastMessage"
  class="fixed bottom-4 right-4 flex items-center w-64 max-w-xs p-4 space-x-4 text-white bg-gray-600 rounded-lg shadow-lg"
>
  <p class="text-sm">{{ toastMessage }}</p>
  <button
    class="text-lg font-semibold text-black focus:outline-none"
    (click)="closeToast()"
  >
    &times;
  </button>
</div>
